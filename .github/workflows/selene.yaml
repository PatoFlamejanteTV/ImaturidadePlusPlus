name: pull request linter

on:
  push:
    branches: [ "main" ]
env:
  SOURCE_FOLDER1: scripts
  SOURCE_FOLDER2: data
  GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
jobs:
  run-selene-linter:
    runs-on: ubuntu-22.04
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Install Cargo
        uses: actions-rust-lang/setup-rust-toolchain@v1
      - name: Install Selene
        run: cargo install selene
      - name: Selene on scripts/
        run: selene $SOURCE_FOLDER1
      - name: Selene on data/
        run: selene $SOURCE_FOLDER2
